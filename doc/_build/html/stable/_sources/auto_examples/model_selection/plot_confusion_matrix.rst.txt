
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/model_selection/plot_confusion_matrix.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_model_selection_plot_confusion_matrix.py>`
        to download the full example code. or to run this example in your browser via JupyterLite or Binder

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_model_selection_plot_confusion_matrix.py:


==================
مصفوفة الارتباك
==================

مثال على استخدام مصفوفة الارتباك لتقييم جودة
مخرجات مصنف على مجموعة بيانات الزهرة Iris. تمثل العناصر القطرية
عدد النقاط التي يكون فيها التصنيف المتوقع مساويًا للتصنيف الحقيقي،
بينما العناصر خارج القطرية هي تلك التي يخطئ المصنف في تصنيفها.
كلما كانت قيم القطرية لمصفوفة الارتباك أعلى، كان ذلك أفضل، مما يشير إلى
الكثير من التوقعات الصحيحة.

توضح الأشكال مصفوفة الارتباك مع وبدون
التطبيع حسب حجم دعم الفئة (عدد العناصر
في كل فئة). يمكن أن يكون هذا النوع من التطبيع
مثيرًا للاهتمام في حالة عدم توازن الفئات للحصول على تفسير مرئي أكثر
للفئة التي يتم تصنيفها بشكل خاطئ.

هنا النتائج ليست جيدة كما يمكن أن تكون لأن
اختيارنا لمعامل الانتظام C لم يكن الأفضل.
في التطبيقات الواقعية، عادة ما يتم اختيار هذا المعامل
باستخدام البحث الشبكي.

.. GENERATED FROM PYTHON SOURCE LINES 24-68



.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_examples/model_selection/images/sphx_glr_plot_confusion_matrix_001.png
         :alt: مصفوفة الارتباك، بدون تطبيع
         :srcset: /auto_examples/model_selection/images/sphx_glr_plot_confusion_matrix_001.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_examples/model_selection/images/sphx_glr_plot_confusion_matrix_002.png
         :alt: مصفوفة الارتباك المطبعنة
         :srcset: /auto_examples/model_selection/images/sphx_glr_plot_confusion_matrix_002.png
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    مصفوفة الارتباك، بدون تطبيع
    [[13  0  0]
     [ 0 10  6]
     [ 0  0  9]]
    مصفوفة الارتباك المطبعنة
    [[1.   0.   0.  ]
     [0.   0.62 0.38]
     [0.   0.   1.  ]]






|

.. code-block:: Python

    # المؤلفون: مطوري سكايلرن
    # معرف الترخيص: BSD-3-Clause

    import matplotlib.pyplot as plt
    import numpy as np

    from sklearn import datasets, svm
    from sklearn.metrics import ConfusionMatrixDisplay
    from sklearn.model_selection import train_test_split

    # استيراد بعض البيانات للتجربة
    iris = datasets.load_iris()
    X = iris.data
    y = iris.target
    class_names = iris.target_names

    # تقسيم البيانات إلى مجموعة تدريب ومجموعة اختبار
    X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=0)

    # تشغيل المصنف، باستخدام نموذج مفرط في الانتظام (C منخفض جدًا) لمشاهدة
    # التأثير على النتائج
    classifier = svm.SVC(kernel="linear", C=0.01).fit(X_train, y_train)

    np.set_printoptions(precision=2)

    # رسم مصفوفة الارتباك غير المطبعنة
    titles_options = [
        ("مصفوفة الارتباك، بدون تطبيع", None),
        ("مصفوفة الارتباك المطبعنة", "true"),
    ]
    for title, normalize in titles_options:
        disp = ConfusionMatrixDisplay.from_estimator(
            classifier,
            X_test,
            y_test,
            display_labels=class_names,
            cmap=plt.cm.Blues,
            normalize=normalize,
        )
        disp.ax_.set_title(title)

        print(title)
        print(disp.confusion_matrix)

    plt.show()

.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.205 seconds)


.. _sphx_glr_download_auto_examples_model_selection_plot_confusion_matrix.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: binder-badge

      .. image:: images/binder_badge_logo.svg
        :target: https://mybinder.org/v2/gh/scikit-learn/scikit-learn/main?urlpath=lab/tree/notebooks/auto_examples/model_selection/plot_confusion_matrix.ipynb
        :alt: Launch binder
        :width: 150 px

    .. container:: lite-badge

      .. image:: images/jupyterlite_badge_logo.svg
        :target: ../../lite/lab/index.html?path=auto_examples/model_selection/plot_confusion_matrix.ipynb
        :alt: Launch JupyterLite
        :width: 150 px

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_confusion_matrix.ipynb <plot_confusion_matrix.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_confusion_matrix.py <plot_confusion_matrix.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_confusion_matrix.zip <plot_confusion_matrix.zip>`


.. include:: plot_confusion_matrix.recommendations


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
